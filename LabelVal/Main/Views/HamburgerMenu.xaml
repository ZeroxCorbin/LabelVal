<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:barCommon="clr-namespace:BarcodeVerification.lib.Common;assembly=BarcodeVerification.lib"
    xmlns:converters="clr-namespace:LabelVal.Converters"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:imageRollEnums="clr-namespace:LabelVal.ImageRolls.ViewModels"
    xmlns:imageRolls="clr-namespace:LabelVal.ImageRolls.Views"
    xmlns:watchers="clr-namespace:Watchers.lib.Process;assembly=Watchers.lib"
    xmlns:l95="clr-namespace:LabelVal.L95.Views"
    xmlns:l95Vm="clr-namespace:LabelVal.L95.ViewModels"
    xmlns:labelBuilder="clr-namespace:LabelVal.LabelBuilder.Views"
    xmlns:labelBuilderVm="clr-namespace:LabelVal.LabelBuilder.ViewModels"
    xmlns:loc="clr-namespace:LabelVal.Localization"
    xmlns:local="clr-namespace:LabelVal.Main.Views"
    xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:printer="clr-namespace:LabelVal.Printer.Views"
    xmlns:printerConverters="clr-namespace:LabelVal.Printer.Converters"
    xmlns:printerVm="clr-namespace:LabelVal.Printer.ViewModels"
    xmlns:results="clr-namespace:LabelVal.Results.Views"
    xmlns:resultsVm="clr-namespace:LabelVal.Results.ViewModels"
    xmlns:run="clr-namespace:LabelVal.Run.Views"
    xmlns:runVm="clr-namespace:LabelVal.Run.ViewModels"
    xmlns:sys="clr-namespace:System;assembly=mscorlib"
    xmlns:v275="clr-namespace:LabelVal.V275.Views"
    xmlns:v275Vm="clr-namespace:LabelVal.V275.ViewModels"
    xmlns:v5="clr-namespace:LabelVal.V5.Views"
    xmlns:v5Vm="clr-namespace:LabelVal.V5.ViewModels"
    xmlns:viewModels="clr-namespace:LabelVal.Main.ViewModels">

    <converters:LocalizeEnumValue x:Key="LocalizeEnumValue" />
    <converters:MACAddressSplitConverter x:Key="MacAddressSplitConverter" />

    <DataTemplate x:Key="PrinterContent">
        <Grid Visibility="Collapsed" />
    </DataTemplate>

    <DataTemplate x:Key="ImageRdContent">
        <results:ImageResultsDatabases />
    </DataTemplate>

    <DataTemplate x:Key="RunContent">
        <run:RunManager />
    </DataTemplate>

    <DataTemplate x:Key="V275Content">
        <v275:V275Manager />
    </DataTemplate>

    <DataTemplate x:Key="V5Content">
        <v5:ScannerManager />
    </DataTemplate>

    <DataTemplate x:Key="L95Content">
        <l95:VerifierManager />
    </DataTemplate>

    <DataTemplate x:Key="ImageRollsContent">
        <imageRolls:ImageRolls />
    </DataTemplate>

    <DataTemplate x:Key="LabelBuilderContent">
        <labelBuilder:LabelBuilderView />
    </DataTemplate>

    <!--  Printer Menu  -->
    <DataTemplate x:Key="PrinterMenuItem">
        <DockPanel>
            <Border Style="{StaticResource hamMenuBottomBar}" />

            <DockPanel Width="48" Height="48">
                <iconPacks:PackIconMaterial
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Kind="Printer" />
            </DockPanel>

            <Border Style="{StaticResource imageBar}" />

            <printer:Printer DataContext="{Binding Content}" />

        </DockPanel>
    </DataTemplate>

    <!--  Image Rolls  -->
    <DataTemplate x:Key="ImageRollMenuItem">
        <DockPanel DataContext="{Binding Content.SelectedImageRoll}">

            <DockPanel Width="48" Background="Teal">

                <iconPacks:PackIconMaterial
                    Width="48"
                    Height="48"
                    Padding="6"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Kind="FilmstripBoxMultiple" />

            </DockPanel>

            <Border Style="{StaticResource imageBar}" />

            <DockPanel
                Margin="3"
                HorizontalAlignment="Stretch"
                Background="{DynamicResource MahApps.Brushes.ThemeBackground}">

                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="TextElement.Foreground" Value="{DynamicResource MahApps.Brushes.ThemeForeground}" />
                    </Style>
                </DockPanel.Style>

                <Border
                    Margin="0,0,6,0"
                    Background="{DynamicResource MahApps.Brushes.Accent2}"
                    Style="{StaticResource groupLeft}" />
                <Border
                    Margin="-6,3,0,0"
                    Background="{DynamicResource MahApps.Brushes.Accent2}"
                    Style="{StaticResource groupBottom}" />

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <iconPacks:PackIconMaterial
                        Margin="0,3,6,0"
                        VerticalAlignment="Center"
                        Kind="ImageMultiple" />

                    <TextBlock
                        Grid.Row="1"
                        Grid.Column="0"
                        Style="{StaticResource MahApps.Styles.TextBlock.HamburgerMenuHeader}"
                        Text="{Binding ImageCount}" />

                    <Grid
                        Grid.Row="0"
                        Grid.Column="1"
                        Margin="3,0"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Top">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="auto" />
                        </Grid.ColumnDefinitions>

                        <md:SmartHint
                            Grid.Column="0"
                            Margin="3,0"
                            FontSize="14"
                            Hint="...">
                            <md:SmartHint.Style>
                                <Style TargetType="md:SmartHint">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding RightAlignOverflow}" Value="True" />
                                                <Condition Binding="{Binding ComputedHorizontalScrollBarVisibility, ElementName=srcName2}" Value="Visible" />
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="Visibility" Value="Visible" />
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </md:SmartHint.Style>
                        </md:SmartHint>

                        <ScrollViewer
                            x:Name="srcName2"
                            Grid.Column="1"
                            Padding="3,0"
                            VerticalAlignment="Center"
                            md:ScrollViewerAssist.BubbleVerticalScroll="True"
                            md:ScrollViewerAssist.IsAutoHideEnabled="True"
                            Focusable="False"
                            HorizontalScrollBarVisibility="Auto"
                            VerticalScrollBarVisibility="Disabled">
                            <ScrollViewer.Resources>
                                <Style TargetType="ScrollBar" />
                                <sys:Double x:Key="{x:Static SystemParameters.HorizontalScrollBarHeightKey}">8</sys:Double>
                            </ScrollViewer.Resources>

                            <ScrollViewer.Style>
                                <Style BasedOn="{StaticResource MaterialDesignScrollViewer}" TargetType="ScrollViewer">
                                    <Setter Property="FlowDirection" Value="LeftToRight" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding RightAlignOverflow}" Value="True">
                                            <Setter Property="FlowDirection" Value="RightToLeft" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ScrollViewer.Style>


                            <TextBlock Text="{Binding Name}">
                                <TextBlock.Style>
                                    <Style BasedOn="{StaticResource MaterialDesignBodyMediumTextBlock}" TargetType="TextBlock">
                                        <Setter Property="FlowDirection" Value="LeftToRight" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding RightAlignOverflow}" Value="True">
                                                <Setter Property="FlowDirection" Value="RightToLeft" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </ScrollViewer>

                        <md:SmartHint
                            Grid.Column="2"
                            Margin="3,0"
                            FontSize="14"
                            Hint="...">
                            <md:SmartHint.Style>
                                <Style TargetType="md:SmartHint">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding RightAlignOverflow}" Value="False" />
                                                <Condition Binding="{Binding ComputedHorizontalScrollBarVisibility, ElementName=srcName2}" Value="Visible" />
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="Visibility" Value="Visible" />
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </md:SmartHint.Style>
                        </md:SmartHint>

                        <TextBlock
                            Grid.Column="3"
                            Margin="6,3"
                            Text="{Binding SelectedGS1Table, Converter={StaticResource EnumValueToDescription}, StringFormat={}Table {0}}">
                            <TextBlock.Style>
                                <Style BasedOn="{StaticResource MaterialDesignBodyMediumTextBlock}" TargetType="TextBlock">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding SelectedApplicationStandard}" Value="{x:Static barCommon:ApplicationStandards.GS1}">
                                            <Setter Property="Visibility" Value="Visible" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </Grid>

                    <DockPanel
                        Grid.Row="1"
                        Grid.Column="1"
                        HorizontalAlignment="Left">

                        <TextBlock Margin="6,0" VerticalAlignment="Center">
                            <TextBlock.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                    <GradientStop Offset="0" Color="{DynamicResource MahApps.Colors.Accent2}" />
                                    <GradientStop Offset="1" Color="{DynamicResource MahApps.Colors.Accent4}" />
                                </LinearGradientBrush>
                            </TextBlock.Background>

                            <TextBlock.Style>
                                <Style BasedOn="{StaticResource MahApps.Styles.TextBlock}" TargetType="TextBlock">
                                    <Setter Property="Text" Value="{Binding TargetDPI, StringFormat={}{0} DPI}" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding TargetDPI}" Value="0">
                                            <Setter Property="Text" Value="Any DPI" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>

                        <iconPacks:PackIconMaterial
                            Margin="3"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center">
                            <iconPacks:PackIconMaterial.Style>
                                <Style TargetType="{x:Type iconPacks:PackIconMaterial}">
                                    <Setter Property="Kind" Value="FormatListNumbered" />
                                    <Setter Property="ToolTip" Value="The template sectors are shared." />

                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding SectorType}" Value="{x:Static imageRollEnums:ImageRollSectorTypes.Dynamic}">
                                            <Setter Property="Kind" Value="PlaylistEdit" />
                                            <Setter Property="ToolTip" Value="The template sectors are independant." />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </iconPacks:PackIconMaterial.Style>
                        </iconPacks:PackIconMaterial>

                        <iconPacks:PackIconMaterial
                            Margin="3"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center">
                            <iconPacks:PackIconMaterial.Style>
                                <Style TargetType="{x:Type iconPacks:PackIconMaterial}">
                                    <Setter Property="Kind" Value="LockOpenVariant" />
                                    <Setter Property="ToolTip" Value="Image Roll is unlocked." />

                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsLocked}" Value="True">
                                            <Setter Property="Kind" Value="Lock" />
                                            <Setter Property="ToolTip" Value="Image Roll is locked." />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </iconPacks:PackIconMaterial.Style>
                        </iconPacks:PackIconMaterial>


                        <iconPacks:PackIconMaterial
                            Margin="3"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center">
                            <iconPacks:PackIconMaterial.Style>
                                <Style TargetType="{x:Type iconPacks:PackIconMaterial}">
                                    <Setter Property="Kind" Value="Database" />
                                    <Setter Property="ToolTip" Value="Images are stored in a database." />

                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding RollType}" Value="Directory">
                                            <Setter Property="Kind" Value="Folder" />
                                            <Setter Property="ToolTip" Value="Images are loaded from a directory. Read Only!" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </iconPacks:PackIconMaterial.Style>
                        </iconPacks:PackIconMaterial>

                    </DockPanel>
                </Grid>
            </DockPanel>

        </DockPanel>
    </DataTemplate>

    <!--  Results Databases  -->
    <DataTemplate x:Key="ImageRdMenuItem" DataType="{x:Type resultsVm:ImageResultsDatabases}">
        <!--  DataContext must be set to Content here.  -->
        <DockPanel DataContext="{Binding Content}">

            <DockPanel Width="48" Background="Purple">

                <iconPacks:PackIconMaterial
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Kind="StoreOutline" />

            </DockPanel>

            <Border Style="{StaticResource imageBar}" />

            <DockPanel
                Margin="3"
                HorizontalAlignment="Stretch"
                Background="{DynamicResource MahApps.Brushes.ThemeBackground}">

                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="TextElement.Foreground" Value="{DynamicResource MahApps.Brushes.ThemeForeground}" />
                    </Style>
                </DockPanel.Style>

                <Border
                    Margin="0,0,6,0"
                    Background="{DynamicResource MahApps.Brushes.Accent2}"
                    Style="{StaticResource groupLeft}" />
                <Border
                    Margin="-6,3,0,0"
                    Background="{DynamicResource MahApps.Brushes.Accent2}"
                    Style="{StaticResource groupBottom}" />

                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="*" />
                    </Grid.RowDefinitions>

                    <iconPacks:PackIconMaterial
                        Margin="0,3,6,0"
                        VerticalAlignment="Center"
                        Kind="Database" />

                    <!--<TextBlock
                        Grid.Row="0"
                        Grid.Column="1"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        TextWrapping="Wrap">
                        <TextBlock.Style>
                            <Style BasedOn="{StaticResource MahApps.Styles.TextBlock.HamburgerMenuHeader}" TargetType="TextBlock">
                                <Setter Property="Text" Value="{Binding SelectedDatabase.File.Name}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding SelectedDatabase, Converter={StaticResource IsNullOrEmpty}}" Value="True">
                                        <Setter Property="Text" Value="NO DATABASE SELECTED" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>-->

                    <Grid
                        Grid.Row="0"
                        Grid.Column="1"
                        Margin="3,0"
                        HorizontalAlignment="Stretch"
                        VerticalAlignment="Top">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="auto" />
                        </Grid.ColumnDefinitions>

                        <md:SmartHint
                            Grid.Column="0"
                            Margin="3,0"
                            FontSize="14"
                            Hint="...">
                            <md:SmartHint.Style>
                                <Style TargetType="md:SmartHint">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding RightAlignOverflow}" Value="True" />
                                                <Condition Binding="{Binding ComputedHorizontalScrollBarVisibility, ElementName=srcName3}" Value="Visible" />
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="Visibility" Value="Visible" />
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </md:SmartHint.Style>
                        </md:SmartHint>

                        <ScrollViewer
                            x:Name="srcName3"
                            Grid.Column="1"
                            Padding="3,0"
                            VerticalAlignment="Center"
                            md:ScrollViewerAssist.BubbleVerticalScroll="True"
                            md:ScrollViewerAssist.IsAutoHideEnabled="True"
                            Focusable="False"
                            HorizontalScrollBarVisibility="Auto"
                            VerticalScrollBarVisibility="Disabled">
                            <ScrollViewer.Resources>
                                <Style TargetType="ScrollBar" />
                                <sys:Double x:Key="{x:Static SystemParameters.HorizontalScrollBarHeightKey}">8</sys:Double>
                            </ScrollViewer.Resources>

                            <ScrollViewer.Style>
                                <Style BasedOn="{StaticResource MaterialDesignScrollViewer}" TargetType="ScrollViewer">
                                    <Setter Property="FlowDirection" Value="LeftToRight" />
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding RightAlignOverflow}" Value="True">
                                            <Setter Property="FlowDirection" Value="RightToLeft" />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </ScrollViewer.Style>


                            <TextBlock Text="{Binding SelectedDatabase.File.Name}">
                                <TextBlock.Style>
                                    <Style BasedOn="{StaticResource MaterialDesignBodyMediumTextBlock}" TargetType="TextBlock">
                                        <Setter Property="FlowDirection" Value="LeftToRight" />
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding RightAlignOverflow}" Value="True">
                                                <Setter Property="FlowDirection" Value="RightToLeft" />
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>
                        </ScrollViewer>

                        <md:SmartHint
                            Grid.Column="2"
                            Margin="3,0"
                            FontSize="14"
                            Hint="...">
                            <md:SmartHint.Style>
                                <Style TargetType="md:SmartHint">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                    <Style.Triggers>
                                        <MultiDataTrigger>
                                            <MultiDataTrigger.Conditions>
                                                <Condition Binding="{Binding RightAlignOverflow}" Value="False" />
                                                <Condition Binding="{Binding ComputedHorizontalScrollBarVisibility, ElementName=srcName3}" Value="Visible" />
                                            </MultiDataTrigger.Conditions>
                                            <MultiDataTrigger.Setters>
                                                <Setter Property="Visibility" Value="Visible" />
                                            </MultiDataTrigger.Setters>
                                        </MultiDataTrigger>

                                    </Style.Triggers>
                                </Style>
                            </md:SmartHint.Style>
                        </md:SmartHint>

                    </Grid>

                    <DockPanel
                        Grid.Row="1"
                        Grid.Column="1"
                        Margin="0,0,0,3"
                        HorizontalAlignment="Left">
                        <iconPacks:PackIconMaterial
                            Margin="3"
                            HorizontalAlignment="Left"
                            VerticalAlignment="Center">
                            <iconPacks:PackIconMaterial.Style>
                                <Style TargetType="{x:Type iconPacks:PackIconMaterial}">
                                    <Setter Property="Kind" Value="LockOpenVariant" />
                                    <Setter Property="ToolTip" Value="Database is unlocked." />

                                    <Style.Triggers>

                                        <DataTrigger Binding="{Binding SelectedDatabase.IsLocked}" Value="True">
                                            <Setter Property="Kind" Value="Lock" />
                                            <Setter Property="ToolTip" Value="Database is locked." />
                                        </DataTrigger>

                                        <DataTrigger Binding="{Binding SelectedDatabase.IsPermLocked}" Value="True">
                                            <Setter Property="Kind" Value="DatabaseLock" />
                                            <Setter Property="ToolTip" Value="Database is premanently locked." />
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </iconPacks:PackIconMaterial.Style>
                        </iconPacks:PackIconMaterial>
                    </DockPanel>

                </Grid>

            </DockPanel>

        </DockPanel>
    </DataTemplate>

    <!--  Run  -->
    <DataTemplate x:Key="RunMenuItem" DataType="{x:Type runVm:RunManager}">
        <!--  DataContext must be set to Content here.  -->
        <DockPanel DataContext="{Binding Content}">
            <Border Style="{StaticResource hamMenuBottomBar}" />

            <DockPanel Width="48" Height="48">
                <iconPacks:PackIconMaterial
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Kind="Run" />
            </DockPanel>

            <Border Style="{StaticResource imageBar}" />

            <DockPanel
                Margin="10,0"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Center">

                <mah:NumericUpDown
                    Width="78"
                    Height="30"
                    HorizontalAlignment="Center"
                    Interval="1"
                    Maximum="999"
                    Minimum="1"
                    Value="{Binding LoopCount}" />

                <Grid HorizontalAlignment="Left">

                    <mah:ProgressRing
                        Width="36"
                        Height="36"
                        Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}">
                        <mah:ProgressRing.Style>
                            <Style TargetType="{x:Type mah:ProgressRing}">
                                <Setter Property="IsActive" Value="False" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding QuickRunController.RunController.State}" Value="Running">
                                        <Setter Property="IsActive" Value="True" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </mah:ProgressRing.Style>
                    </mah:ProgressRing>

                    <Button
                        Width="36"
                        Height="36"
                        Command="{Binding StartStopCommand}">
                        <Button.Style>
                            <Style BasedOn="{StaticResource MahApps.Styles.Button.Hamburger}" TargetType="{x:Type Button}">
                                <Setter Property="IsEnabled" Value="False" />
                                <Setter Property="Content" Value="{iconPacks:Material Kind=Play, Width=24, Height=24}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding SelectedV275Node.Controller.IsLoggedIn_Control}" Value="True">
                                        <Setter Property="IsEnabled" Value="True" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding SelectedV5.Controller.IsConnected}" Value="True">
                                        <Setter Property="IsEnabled" Value="True" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding SelectedL95.Controller.IsConnected}" Value="True">
                                        <Setter Property="IsEnabled" Value="True" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding QuickRunController.RunController.State}" Value="Running">
                                        <Setter Property="Content" Value="{iconPacks:Material Kind=Stop, Width=24, Height=24}" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding QuickRunController.RunController.State}" Value="Error">
                                        <Setter Property="Content" Value="{iconPacks:Material Kind=Eraser, Width=24, Height=24}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>

                <Button
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Left"
                    Command="{Binding OpenRunWindowCommand, RelativeSource={RelativeSource AncestorType=local:MainWindow}}"
                    Content="{iconPacks:PicolIcons Kind=ServerRun,
                                                   Width=24,
                                                   Height=24}"
                    Foreground="{DynamicResource MahApps.HamburgerMenu.Pane.Foreground}"
                    Style="{StaticResource MahApps.Styles.Button.Hamburger}" />
            </DockPanel>

        </DockPanel>
    </DataTemplate>

    <!--  Label Builder  -->
    <DataTemplate x:Key="LabelBuilderMenuItem" DataType="{x:Type labelBuilderVm:LabelBuilderViewModel}">
        <!--  DataContext must be set to Content here.  -->
        <DockPanel DataContext="{Binding Content}">
            <Border Style="{StaticResource hamMenuBottomBar}" />

            <DockPanel Width="48" Height="48">
                <iconPacks:PackIconMaterial
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Kind="Barcode" />
            </DockPanel>

            <Border Style="{StaticResource imageBar}" />

            <DockPanel
                Margin="10,0"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Center" />

        </DockPanel>
    </DataTemplate>


    <!--  V275  -->
    <DataTemplate x:Key="V275MenuItem">
        <DockPanel DataContext="{Binding Content}">

            <Border Style="{StaticResource hamMenuBottomBar}" />

            <Grid
                Width="48"
                MinHeight="82"
                Background="{DynamicResource V275_Brush}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <Image
                    Grid.Row="0"
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Source="/Assets/Images/v275-white-outline.ico" />

                <md:Card
                    Grid.Row="1"
                    Margin="3"
                    Padding="3"
                    Background="{DynamicResource MahApps.Brushes.Accent4}">
                    <md:Card.Style>
                        <Style TargetType="{x:Type md:Card}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding SelectedDevice, Converter={StaticResource IsNullOrEmpty}}" Value="True">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </md:Card.Style>

                    <Button BorderThickness="0" Command="{Binding SelectedDevice.ConnectCommand}">
                        <Button.Style>
                            <Style BasedOn="{StaticResource MahApps.Styles.Button}" TargetType="{x:Type Button}">
                                <Setter Property="Visibility" Value="Visible" />
                                <Setter Property="Content">
                                    <Setter.Value>
                                        <iconPacks:Modern Kind="Connect" />
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding SelectedDevice.Controller.IsConnected}" Value="True">
                                        <Setter Property="Content">
                                            <Setter.Value>
                                                <iconPacks:Modern Kind="Disconnect" />
                                            </Setter.Value>
                                        </Setter>
                                    </DataTrigger>


                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </md:Card>
            </Grid>

            <Border Style="{StaticResource imageBar}" />

            <!--  Show the label name if no node is selected.  -->
            <DockPanel>
                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="Visibility" Value="Collapsed" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding SelectedDevice, Converter={StaticResource IsNullOrEmpty}}" Value="True">
                                <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DockPanel.Style>

                <TextBlock
                    Margin="10,0,0,0"
                    VerticalAlignment="Center"
                    Text="{Binding Label}" />
            </DockPanel>

            <DockPanel>
                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="Visibility" Value="Visible" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding SelectedDevice, Converter={StaticResource IsNullOrEmpty}}" Value="True">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DockPanel.Style>

                <v275:NodeItem DataContext="{Binding SelectedDevice}" IsDocked="True" />

            </DockPanel>

        </DockPanel>
    </DataTemplate>

    <!--  V5  -->
    <DataTemplate x:Key="V5MenuItem">
        <DockPanel DataContext="{Binding Content}">

            <Border Style="{StaticResource hamMenuBottomBar}" />

            <Grid
                Width="48"
                MinHeight="82"
                Background="{DynamicResource V5_Brush}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <Image
                    Grid.Row="0"
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Source="/Assets/Images/v5-white-outline.ico" />

                <md:Card
                    Grid.Row="1"
                    Margin="3"
                    Padding="3"
                    Background="{DynamicResource MahApps.Brushes.Accent4}">
                    <md:Card.Style>
                        <Style TargetType="{x:Type md:Card}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding SelectedDevice, Converter={StaticResource IsNullOrEmpty}}" Value="True">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </md:Card.Style>

                    <Button BorderThickness="0" Command="{Binding SelectedDevice.ConnectCommand}">
                        <Button.Style>
                            <Style BasedOn="{StaticResource MahApps.Styles.Button}" TargetType="{x:Type Button}">
                                <Setter Property="Visibility" Value="Visible" />
                                <Setter Property="Content">
                                    <Setter.Value>
                                        <iconPacks:Modern Kind="Connect" />
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding SelectedDevice.Controller.IsConnected}" Value="True">
                                        <Setter Property="Content">
                                            <Setter.Value>
                                                <iconPacks:Modern Kind="Disconnect" />
                                            </Setter.Value>
                                        </Setter>
                                    </DataTrigger>


                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </md:Card>
            </Grid>

            <Border Style="{StaticResource imageBar}" />

            <!--  Show the label name if not node is selected.  -->
            <DockPanel>
                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="Visibility" Value="Collapsed" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding SelectedDevice, Converter={StaticResource IsNullOrEmpty}}" Value="True">
                                <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DockPanel.Style>

                <TextBlock
                    Margin="10,0,0,0"
                    VerticalAlignment="Center"
                    Text="{Binding Label}" />
            </DockPanel>

            <DockPanel DockPanel.Dock="Top">
                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="Visibility" Value="Visible" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding SelectedDevice, Converter={StaticResource IsNullOrEmpty}}" Value="True">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DockPanel.Style>

                <v5:Scanner DataContext="{Binding SelectedDevice}" IsDocked="True" />

            </DockPanel>
        </DockPanel>
    </DataTemplate>

    <!--  L95  -->
    <DataTemplate x:Key="L95MenuItem">
        <DockPanel DataContext="{Binding Content}">

            <Grid
                Width="48"
                MinHeight="82"
                Background="{DynamicResource L95_Brush}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="Auto" /> <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <Image
                    Grid.Row="0"
                    Width="36"
                    Height="36"
                    Margin="0,3,0,0"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Source="/Assets/Images/l95-white-outline.ico" />

                <md:Card
                    Grid.Row="1"
                    Margin="3,3,3,3"
                    Padding="3"
                    Background="{DynamicResource MahApps.Brushes.Accent4}">
                    <md:Card.Style>
                        <Style TargetType="{x:Type md:Card}">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding SelectedDevice, Converter={StaticResource IsNullOrEmpty}}" Value="True">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </md:Card.Style>

                    <Button BorderThickness="0" Command="{Binding SelectedDevice.ConnectCommand}">
                        <Button.Style>
                            <Style BasedOn="{StaticResource MahApps.Styles.Button}" TargetType="{x:Type Button}">
                                <Setter Property="Visibility" Value="Visible" />
                                <Setter Property="Content">
                                    <Setter.Value>
                                        <iconPacks:Modern Kind="Connect" />
                                    </Setter.Value>
                                </Setter>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding SelectedDevice.Controller.IsConnected}" Value="True">
                                        <Setter Property="Content">
                                            <Setter.Value>
                                                <iconPacks:Modern Kind="Disconnect" />
                                            </Setter.Value>
                                        </Setter>
                                    </DataTrigger>


                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </md:Card>

                <md:Card Grid.Row="2"
                    Margin="3,3,3,3"
                    Padding="3"
                    Background="{DynamicResource MahApps.Brushes.Accent4}"
                    DockPanel.Dock="Top">
                    <md:Card.Style>
                        <Style TargetType="{x:Type md:Card}">
                            <Setter Property="Visibility" Value="Visible" />
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding SelectedDevice.Controller.ProcessState}" Value="{x:Static watchers:Win32_ProcessWatcherProcessState.Exited}">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding SelectedDevice, Converter={StaticResource IsNullOrEmpty}}" Value="True">
                                    <Setter Property="Visibility" Value="Collapsed" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </md:Card.Style>

                    <StackPanel>

                        <Button
                            Style="{StaticResource MahApps.Styles.Button}"
                     
                            BorderThickness="0"
                  
                            Margin="0,0,0,3"
                            Padding="0"
                            Command="{Binding SelectedDevice.EnterLvsCredentialsCommand}"
                            ToolTip="Login as LVS super user">
                            <iconPacks:PackIconMaterial Kind="AccountStar" />
                        </Button>

                        <Button
                            Style="{StaticResource MahApps.Styles.Button}"
                            BorderThickness="0"
                  
                            Margin="0,0,0,0"
                            Padding="0"
                            Command="{Binding SelectedDevice.EnterAdminCredentialsCommand}"
                            ToolTip="Login as Admin">
                            <iconPacks:PackIconMaterial Kind="ShieldAccount" />
                        </Button>
                    </StackPanel>
                </md:Card>
            </Grid>

            <Border Style="{StaticResource imageBar}" />

            <DockPanel>
                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="Visibility" Value="Collapsed" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding SelectedDevice, Converter={StaticResource IsNullOrEmpty}}" Value="True">
                                <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DockPanel.Style>

                <TextBlock
                    Margin="10,0,0,0"
                    VerticalAlignment="Center"
                    Text="{Binding Label}" />

            </DockPanel>

            <DockPanel DockPanel.Dock="Top">
                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="Visibility" Value="Visible" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding SelectedDevice, Converter={StaticResource IsNullOrEmpty}}" Value="True">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DockPanel.Style>

                <l95:Verifier DataContext="{Binding SelectedDevice}" IsDocked="True" />

            </DockPanel>
        </DockPanel>
    </DataTemplate>


    <viewModels:TemplateSelector
        x:Key="MenuItemTemplateSelector"
        ImageResultsDatabases="{StaticResource ImageRdMenuItem}"
        ImageRolls="{StaticResource ImageRollMenuItem}"
        L96XX="{StaticResource L95MenuItem}"
        LabelBuilder="{StaticResource LabelBuilderMenuItem}"
        Printer="{StaticResource PrinterMenuItem}"
        Run="{StaticResource RunMenuItem}"
        V275="{StaticResource V275MenuItem}"
        V5="{StaticResource V5MenuItem}" />

    <viewModels:TemplateSelector
        x:Key="ContentItemTemplateSelector"
        ImageResultsDatabases="{StaticResource ImageRdContent}"
        ImageRolls="{StaticResource ImageRollsContent}"
        L96XX="{StaticResource L95Content}"
        LabelBuilder="{StaticResource LabelBuilderContent}"
        Printer="{StaticResource PrinterContent}"
        Run="{StaticResource RunContent}"
        V275="{StaticResource V275Content}"
        V5="{StaticResource V5Content}" />

</ResourceDictionary>