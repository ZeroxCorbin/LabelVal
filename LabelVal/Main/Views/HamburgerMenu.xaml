<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:L95xx="clr-namespace:LabelVal.LVS_95xx.Views"
    xmlns:L95xxVm="clr-namespace:LabelVal.LVS_95xx.ViewModels"
    xmlns:converters="clr-namespace:LabelVal.Converters"
    xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
    xmlns:loc="clr-namespace:LabelVal.Localization"
    xmlns:local="clr-namespace:LabelVal.Main.Views"
    xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
    xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:printer="clr-namespace:LabelVal.Printer.Views"
    xmlns:printerConverters="clr-namespace:LabelVal.Printer.Converters"
    xmlns:printerVm="clr-namespace:LabelVal.Printer.ViewModels"
    xmlns:results="clr-namespace:LabelVal.Results.Views"
    xmlns:resultsVm="clr-namespace:LabelVal.Results.ViewModels"
    xmlns:run="clr-namespace:LabelVal.Run.Views"
    xmlns:runVm="clr-namespace:LabelVal.Run.ViewModels"
    xmlns:v275="clr-namespace:LabelVal.V275.Views"
    xmlns:v275Vm="clr-namespace:LabelVal.V275.ViewModels"
    xmlns:v5="clr-namespace:LabelVal.V5.Views"
    xmlns:v5Vm="clr-namespace:LabelVal.V5.ViewModels"
    xmlns:viewModels="clr-namespace:LabelVal.Main.ViewModels">

    <converters:ObjectIsNull x:Key="objectIsNull" />
    <converters:LocalizeEnumValue x:Key="localizeEnumValue" />
    <converters:MACAddressSplitConverter x:Key="macAddressSplitConverter" />

    <DataTemplate x:Key="printerContent">
        <Grid Visibility="Collapsed" />
    </DataTemplate>
    <DataTemplate x:Key="imageRDContent">
        <results:ImageResultsDatabases />
    </DataTemplate>
    <DataTemplate x:Key="runContent">
        <run:RunManager />
    </DataTemplate>
    <DataTemplate x:Key="v275Content">
        <v275:V275Manager />
    </DataTemplate>
    <DataTemplate x:Key="v5Content">
        <v5:ScannerManager />
    </DataTemplate>
    <DataTemplate x:Key="l95xxContent">
        <L95xx:VerifierManager />
    </DataTemplate>

    <!--  Printer Menu  -->
    <DataTemplate x:Key="printerMenuItem">
        <DockPanel>
            <Border Style="{StaticResource hamMenuBottomBar}" />

            <DockPanel Width="48" Height="48">
                <iconPacks:PackIconMaterial
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Kind="Printer" />
            </DockPanel>

            <Border Style="{StaticResource imageBar}" />

            <printer:Printer DataContext="{Binding Content}" />

        </DockPanel>
    </DataTemplate>

    <!--  Results Databases  -->
    <DataTemplate x:Key="imageRDMenuItem" DataType="{x:Type resultsVm:ImageResultsDatabases}">
        <!--  DataContext must be set to Content here.  -->
        <DockPanel DataContext="{Binding Content}">

            <Border Style="{StaticResource hamMenuBottomBar}" />

            <DockPanel Width="48" Height="48">
                <StackPanel
                    Width="36"
                    Height="36"
                    Margin="0,2"
                    VerticalAlignment="Top">
                    <DockPanel>
                        <iconPacks:PackIconMaterial
                            Height="14"
                            HorizontalAlignment="Center"
                            Kind="ImageMultiple" />
                        <iconPacks:PackIconMaterial
                            Height="14"
                            HorizontalAlignment="Center"
                            Kind="ListBoxOutline" />
                    </DockPanel>
                    <iconPacks:PackIconMaterial
                        Height="6"
                        Margin="0,0,0,1"
                        HorizontalAlignment="Center"
                        Kind="ChevronDown" />
                    <iconPacks:PackIconMaterial
                        Width="36"
                        Height="14"
                        HorizontalAlignment="Center"
                        Kind="Database" />
                </StackPanel>
            </DockPanel>

            <Border Style="{StaticResource imageBar}" />

            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <iconPacks:PackIconMaterial
                    Margin="6,3,6,0"
                    VerticalAlignment="Center"
                    Kind="Database" />

                <md:Card
                    Grid.Column="1"
                    Margin="3,3"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Background="{DynamicResource MahApps.Brushes.ThemeBackground}"
                    Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}">

                    <TextBlock
                        Margin="6,3"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Top"
                        TextWrapping="Wrap">
                        <TextBlock.Style>
                            <Style BasedOn="{StaticResource MahApps.Styles.TextBlock.HamburgerMenuHeader}" TargetType="TextBlock">
                                <Setter Property="Text" Value="{Binding SelectedDatabase.File.Name}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding SelectedDatabase, Converter={StaticResource objectIsNull}}" Value="True">
                                        <Setter Property="Text" Value="NO DATABASE SELECTED" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </TextBlock.Style>
                    </TextBlock>
                </md:Card>

                <DockPanel
                    Grid.Row="1"
                    Grid.Column="1"
                    Margin="0,0,0,3"
                    HorizontalAlignment="Left">
                    <iconPacks:PackIconMaterial
                        Margin="3"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center">
                        <iconPacks:PackIconMaterial.Style>
                            <Style TargetType="{x:Type iconPacks:PackIconMaterial}">
                                <Setter Property="Kind" Value="LockOpenVariant" />
                                <Setter Property="ToolTip" Value="Database is unlocked." />

                                <Style.Triggers>

                                    <DataTrigger Binding="{Binding SelectedDatabase.IsLocked}" Value="True">
                                        <Setter Property="Kind" Value="Lock" />
                                        <Setter Property="ToolTip" Value="Database is locked." />
                                    </DataTrigger>

                                    <DataTrigger Binding="{Binding SelectedDatabase.IsPermLocked}" Value="True">
                                        <Setter Property="Kind" Value="DatabaseLock" />
                                        <Setter Property="ToolTip" Value="Database is premanently locked." />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </iconPacks:PackIconMaterial.Style>
                    </iconPacks:PackIconMaterial>
                </DockPanel>

            </Grid>
        </DockPanel>
    </DataTemplate>

    <!--  Run  -->
    <DataTemplate x:Key="runMenuItem" DataType="{x:Type runVm:RunManager}">
        <!--  DataContext must be set to Content here.  -->
        <DockPanel DataContext="{Binding Content}">
            <Border Style="{StaticResource hamMenuBottomBar}" />

            <DockPanel Width="48" Height="48">
                <iconPacks:PackIconMaterial
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Kind="Run" />
            </DockPanel>

            <Border Style="{StaticResource imageBar}" />

            <DockPanel
                Margin="10,0"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Center">

                <mah:NumericUpDown
                    Width="78"
                    Height="30"
                    HorizontalAlignment="Center"
                    Interval="1"
                    Maximum="999"
                    Minimum="1"
                    Value="{Binding LoopCount}" />

                <Grid HorizontalAlignment="Left">

                    <mah:ProgressRing
                        Width="36"
                        Height="36"
                        Foreground="{DynamicResource MahApps.Brushes.ThemeForeground}">
                        <mah:ProgressRing.Style>
                            <Style TargetType="{x:Type mah:ProgressRing}">
                                <Setter Property="IsActive" Value="False" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding QuickRunController.RunController.State}" Value="Running">
                                        <Setter Property="IsActive" Value="True" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </mah:ProgressRing.Style>
                    </mah:ProgressRing>

                    <Button
                        Width="36"
                        Height="36"
                        Command="{Binding StartStopCommand}">
                        <Button.Style>
                            <Style BasedOn="{StaticResource MahApps.Styles.Button.Hamburger}" TargetType="{x:Type Button}">
                                <Setter Property="IsEnabled" Value="False" />
                                <Setter Property="Content" Value="{iconPacks:Material Kind=Play, Width=24, Height=24}" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding SelectedNode.Controller.IsLoggedIn_Control}" Value="True">
                                        <Setter Property="IsEnabled" Value="True" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding SelectedScanner.Controller.IsConnected}" Value="True">
                                        <Setter Property="IsEnabled" Value="True" />
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding QuickRunController.RunController.State}" Value="Running">
                                        <Setter Property="Content" Value="{iconPacks:Material Kind=Stop, Width=24, Height=24}" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Button.Style>
                    </Button>
                </Grid>

                <Button
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Left"
                    Command="{Binding OpenRunWindowCommand, RelativeSource={RelativeSource AncestorType=local:MainWindow}}"
                    Content="{iconPacks:PicolIcons Kind=ServerRun,
                                                   Width=24,
                                                   Height=24}"
                    Foreground="{DynamicResource MahApps.HamburgerMenu.Pane.Foreground}"
                    Style="{StaticResource MahApps.Styles.Button.Hamburger}" />
            </DockPanel>

        </DockPanel>
    </DataTemplate>

    <!--  V275  -->
    <DataTemplate x:Key="v275MenuItem">
        <DockPanel>
            <Border Style="{StaticResource hamMenuBottomBar}" />

            <DockPanel
                Width="48"
                MinHeight="48"
                Background="{DynamicResource V275_Brush}">
                <Image
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Source="/Assets/Images/v275-white-outline.ico" />
            </DockPanel>

            <Border Style="{StaticResource imageBar}" />

            <!--  Show the label name if not node is selected.  -->
            <DockPanel>
                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="Visibility" Value="Collapsed" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Content.SelectedDevice, Converter={StaticResource objectIsNull}}" Value="True">
                                <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DockPanel.Style>

                <TextBlock
                    Margin="10,0,0,0"
                    VerticalAlignment="Center"
                    Text="{Binding Label}" />
            </DockPanel>

            <DockPanel>
                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="Visibility" Value="Visible" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Content.SelectedDevice, Converter={StaticResource objectIsNull}}" Value="True">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DockPanel.Style>

                <v275:NodeItem DataContext="{Binding Content.SelectedDevice}" IsDocked="True" />

            </DockPanel>

        </DockPanel>
    </DataTemplate>

    <!--  V5  -->
    <DataTemplate x:Key="v5MenuItem">
        <DockPanel>

            <Border Style="{StaticResource hamMenuBottomBar}" />

            <DockPanel
                Width="48"
                MinHeight="48"
                Background="{DynamicResource V5_Brush}">
                <Image
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Source="/Assets/Images/v5-white-outline.ico" />
            </DockPanel>

            <Border Style="{StaticResource imageBar}" />

            <!--  Show the label name if not node is selected.  -->
            <DockPanel>
                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="Visibility" Value="Collapsed" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Content.SelectedDevice, Converter={StaticResource objectIsNull}}" Value="True">
                                <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DockPanel.Style>

                <TextBlock
                    Margin="10,0,0,0"
                    VerticalAlignment="Center"
                    Text="{Binding Label}" />
            </DockPanel>

            <DockPanel DockPanel.Dock="Top">
                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="Visibility" Value="Visible" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Content.SelectedDevice, Converter={StaticResource objectIsNull}}" Value="True">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DockPanel.Style>

                <v5:Scanner DataContext="{Binding Content.SelectedDevice}" IsDocked="True" />

            </DockPanel>
        </DockPanel>
    </DataTemplate>

    <!--  L95xx  -->
    <DataTemplate x:Key="l95xxMenuItem">
        <DockPanel>

            <DockPanel
                Width="48"
                MinHeight="48"
                Background="{DynamicResource L95xx_Brush}">
                <Image
                    Width="36"
                    Height="36"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Source="/Assets/Images/l95xx-white-outline.ico" />
            </DockPanel>

            <Border Style="{StaticResource imageBar}" />

            <DockPanel>
                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="Visibility" Value="Collapsed" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Content.SelectedDevice, Converter={StaticResource objectIsNull}}" Value="True">
                                <Setter Property="Visibility" Value="Visible" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DockPanel.Style>

                <TextBlock
                    Margin="10,0,0,0"
                    VerticalAlignment="Center"
                    Text="{Binding Label}" />

            </DockPanel>

            <DockPanel DockPanel.Dock="Top">
                <DockPanel.Style>
                    <Style TargetType="DockPanel">
                        <Setter Property="Visibility" Value="Visible" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding Content.SelectedDevice, Converter={StaticResource objectIsNull}}" Value="True">
                                <Setter Property="Visibility" Value="Collapsed" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </DockPanel.Style>

                <L95xx:Verifier DataContext="{Binding Content.SelectedDevice}" IsDocked="True" />

            </DockPanel>
        </DockPanel>
    </DataTemplate>


    <viewModels:TemplateSelector
        x:Key="menuItemTemplateSelector"
        ImageResultsDatabases="{StaticResource imageRDMenuItem}"
        L96XX="{StaticResource l95xxMenuItem}"
        Printer="{StaticResource printerMenuItem}"
        Run="{StaticResource runMenuItem}"
        V275="{StaticResource v275MenuItem}"
        V5="{StaticResource v5MenuItem}" />

    <viewModels:TemplateSelector
        x:Key="contentItemTemplateSelector"
        ImageResultsDatabases="{StaticResource imageRDContent}"
        L96XX="{StaticResource l95xxContent}"
        Printer="{StaticResource printerContent}"
        Run="{StaticResource runContent}"
        V275="{StaticResource v275Content}"
        V5="{StaticResource v5Content}" />

</ResourceDictionary>